<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>Class: Jobs</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/splunk-sdk/client.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="Collection.html">Collection</a>
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-create">#create</a>
    
    <li><a href="#method-i-create_oneshot">#create_oneshot</a>
    
    <li><a href="#method-i-create_stream">#create_stream</a>
    
    <li><a href="#method-i-list">#list</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="./README_rdoc.html">README</a>
  
    <li class="file"><a href="./Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="./TODO.html">TODO</a>
  
    <li class="file"><a href="./test/testfile_txt.html">testfile</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./JSON.html">JSON</a>
  
    <li><a href="./JSON/Stream.html">JSON::Stream</a>
  
    <li><a href="./JSON/Stream/Parser.html">JSON::Stream::Parser</a>
  
    <li><a href="./AtomResponseLoader.html">AtomResponseLoader</a>
  
    <li><a href="./Collection.html">Collection</a>
  
    <li><a href="./Conf.html">Conf</a>
  
    <li><a href="./ConfCollection.html">ConfCollection</a>
  
    <li><a href="./Context.html">Context</a>
  
    <li><a href="./Entity.html">Entity</a>
  
    <li><a href="./Hash.html">Hash</a>
  
    <li><a href="./Index.html">Index</a>
  
    <li><a href="./Job.html">Job</a>
  
    <li><a href="./Jobs.html">Jobs</a>
  
    <li><a href="./Message.html">Message</a>
  
    <li><a href="./Object.html">Object</a>
  
    <li><a href="./ResultsReader.html">ResultsReader</a>
  
    <li><a href="./SearchResults.html">SearchResults</a>
  
    <li><a href="./Service.html">Service</a>
  
    <li><a href="./SplunkError.html">SplunkError</a>
  
    <li><a href="./SplunkHTTPError.html">SplunkHTTPError</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Jobs</h1>

  <div id="description" class="description">
    
<p><a href="Jobs.html">Jobs</a> objects are used for executing searches and
retrieving a list of all jobs</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(svc)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/splunk-sdk/client.rb, line 766</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">svc</span>)
  <span class="ruby-ivar">@service</span> = <span class="ruby-identifier">svc</span>
  <span class="ruby-identifier">item</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">service</span>, <span class="ruby-identifier">sid</span><span class="ruby-operator">|</span> <span class="ruby-constant">Job</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">service</span>, <span class="ruby-identifier">sid</span>)}
  <span class="ruby-keyword">super</span>(<span class="ruby-identifier">svc</span>, <span class="ruby-constant">PATH_JOBS</span>, <span class="ruby-string">&quot;jobs&quot;</span>, <span class="ruby-value">:item</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">item</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-create" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create</span><span
            class="method-args">(query, args={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Run a search.  This search can be either synchronous (oneshot) or
asynchronous.  A synchronous search will execute the search and the caller
will block until the results have been returned.  An asynchronous search
will return immediately, returning a <a href="Job.html">Job</a> object that
can be queried for completion, paused, etc. There are many possible
arguments - all are documented in the Splunk REST documentation at <a
href="http://docs.splunk.com/Documentation/Splunk/latest/RESTAPI/RESTsearch#search.2Fjobs">docs.splunk.com/Documentation/Splunk/latest/RESTAPI/RESTsearch#search.2Fjobs</a>
- POST.  The one that controls either synchronous or asynchronous is called
<strong><code>:exec_mode</code></strong>.</p>

<h4 id="method-i-create-label-Example+1+-+Execute+a+synchronous+search+returning+XML+%28XML+is+the+default+output+mode+%29">Example 1 - Execute a synchronous search returning XML (XML is the default output mode )</h4>

<pre class="ruby"><span class="ruby-identifier">svc</span> = <span class="ruby-constant">Service</span>.<span class="ruby-identifier">connect</span>(:<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>)
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">svc</span>.<span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;search error&quot;</span>, :<span class="ruby-identifier">max_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">max_results</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">exec_mode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'oneshot'</span>)
</pre>

<h4 id="method-i-create-label-Example+2+-+Execute+a+synchronous+search+returning+a+JSON+String">Example 2 - Execute a synchronous search returning a <a href="JSON.html">JSON</a> String</h4>

<pre class="ruby"><span class="ruby-identifier">svc</span> = <span class="ruby-constant">Service</span>.<span class="ruby-identifier">connect</span>(:<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>)
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">svc</span>.<span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;search error&quot;</span>, :<span class="ruby-identifier">max_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">max_results</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">exec_mode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'oneshot'</span>, :<span class="ruby-identifier">output_mode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'json'</span>)
</pre>

<h4 id="method-i-create-label-Example+3+-+Execute+a+synchronous+search+returning+a+Job+object+with+the+results+as+a+JSON+String">Example 3 - Execute a synchronous search returning a <a href="Job.html">Job</a> object with the results as a <a href="JSON.html">JSON</a> String</h4>

<pre class="ruby"><span class="ruby-identifier">svc</span> = <span class="ruby-constant">Service</span>.<span class="ruby-identifier">connect</span>(:<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>)
<span class="ruby-identifier">job</span> = <span class="ruby-identifier">svc</span>.<span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;search error&quot;</span>, :<span class="ruby-identifier">max_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">max_results</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">exec_mode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'blocking'</span>)
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">job</span>.<span class="ruby-identifier">results</span>(:<span class="ruby-identifier">output_mode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'json'</span>)
</pre>

<h4 id="method-i-create-label-Example+4+-+Execute+an+asynchronous+search+and+wait+for+all+the+results">Example 4 - Execute an asynchronous search and wait for all the results</h4>

<pre class="ruby"><span class="ruby-identifier">svc</span> = <span class="ruby-constant">Service</span>.<span class="ruby-identifier">connect</span>(:<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>)
<span class="ruby-identifier">job</span> = <span class="ruby-identifier">svc</span>.<span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;search error&quot;</span>, :<span class="ruby-identifier">max_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">max_results</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
<span class="ruby-keyword">while</span> <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">stats</span> = <span class="ruby-identifier">job</span>.<span class="ruby-identifier">read</span>([<span class="ruby-string">'isDone'</span>])
  <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">stats</span>[<span class="ruby-string">'isDone'</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'1'</span>
  <span class="ruby-identifier">sleep</span>(<span class="ruby-value">1</span>)
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">job</span>.<span class="ruby-identifier">results</span>(:<span class="ruby-identifier">output_mode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'json'</span>)
</pre>
          

          
          <div class="method-source-code" id="create-source">
            <pre><span class="ruby-comment"># File lib/splunk-sdk/client.rb, line 801</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create</span>(<span class="ruby-identifier">query</span>, <span class="ruby-identifier">args</span>={})
  <span class="ruby-identifier">args</span>[<span class="ruby-string">&quot;search&quot;</span>] = <span class="ruby-identifier">query</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@service</span>.<span class="ruby-identifier">context</span>.<span class="ruby-identifier">post</span>(<span class="ruby-constant">PATH_JOBS</span>, <span class="ruby-identifier">args</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">response</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">:exec_mode</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'oneshot'</span>

  <span class="ruby-identifier">response</span> = <span class="ruby-constant">AtomResponseLoader</span><span class="ruby-operator">::</span><span class="ruby-identifier">load_text</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-identifier">sid</span> = <span class="ruby-identifier">response</span>[<span class="ruby-string">'response'</span>][<span class="ruby-string">'sid'</span>]
  <span class="ruby-constant">Job</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@service</span>, <span class="ruby-identifier">sid</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- create-source -->
          
        </div>

        

        
      </div><!-- create-method -->

    
      <div id="method-i-create_oneshot" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_oneshot</span><span
            class="method-args">(query, args={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Convenience method that runs a synchronous search returning an enumerable
<a href="SearchResults.html">SearchResults</a> object. This object allows
you to iterate through each individual event. You can use any arguments
from the REST call (specfied in <a
href="Jobs.html#method-i-create">#create</a>) you wish, but
‘:exec_mode’ and ‘:output_mode’ will always be set to ‘oneshot’
and ‘json’ respectively.</p>

<h4 id="method-i-create_oneshot-label-Example+-+Execute+a+search+and+show+just+the+raw+events+followed+by+the+event+count">Example - Execute a search and show just the raw events followed by the event count</h4>

<pre class="ruby"><span class="ruby-identifier">svc</span> = <span class="ruby-constant">Service</span>.<span class="ruby-identifier">connect</span>(:<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>)
<span class="ruby-identifier">results</span> = <span class="ruby-identifier">svc</span>.<span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;search error&quot;</span>, :<span class="ruby-identifier">max_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">max_results</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
<span class="ruby-identifier">results</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">event</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-identifier">event</span>[<span class="ruby-string">'_raw'</span>]}
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">count</span>
</pre>
          

          
          <div class="method-source-code" id="create_oneshot-source">
            <pre><span class="ruby-comment"># File lib/splunk-sdk/client.rb, line 822</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_oneshot</span>(<span class="ruby-identifier">query</span>, <span class="ruby-identifier">args</span>={})
  <span class="ruby-identifier">args</span>[<span class="ruby-value">:search</span>] = <span class="ruby-identifier">query</span>
  <span class="ruby-identifier">args</span>[<span class="ruby-value">:exec_mode</span>] = <span class="ruby-string">&quot;oneshot&quot;</span>
  <span class="ruby-identifier">args</span>[<span class="ruby-value">:output_mode</span>] = <span class="ruby-string">&quot;json&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@service</span>.<span class="ruby-identifier">context</span>.<span class="ruby-identifier">post</span>(<span class="ruby-constant">PATH_JOBS</span>, <span class="ruby-identifier">args</span>)

  <span class="ruby-identifier">json</span> = <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-constant">SearchResults</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">json</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- create_oneshot-source -->
          
        </div>

        

        
      </div><!-- create_oneshot-method -->

    
      <div id="method-i-create_stream" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_stream</span><span
            class="method-args">(query, args={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Run a <strong>streamed search</strong> .  Rather than returning an object
that can take up a huge amount of memory by including large numbers of
search results, a streamed search buffers only a chunk at a time and
provides an interface that the client can use to retrieve results without
taking up any more memory than just for the buffer itself. The arguments
are exactly the same as for the other search methods in this class except
that <strong><code>:output_mode</code></strong> will always be ‘json’
because results are always in <a href="JSON.html">JSON</a>.</p>

<h4 id="method-i-create_stream-label-Example+1+-+Simple+streamed+search">Example 1 - Simple streamed search</h4>

<pre class="ruby"><span class="ruby-identifier">svc</span> = <span class="ruby-constant">Service</span>.<span class="ruby-identifier">connect</span>(:<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>)
<span class="ruby-identifier">reader</span> = <span class="ruby-identifier">svc</span>.<span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">create_stream</span>(<span class="ruby-string">'search host=&quot;45.2.94.5&quot; | timechart count'</span>)
<span class="ruby-identifier">reader</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">event</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-identifier">event</span>}
</pre>

<h4 id="method-i-create_stream-label-Example+2+-+Real+time+streamed+search">Example 2 - Real time streamed search</h4>

<pre class="ruby"><span class="ruby-identifier">svc</span> = <span class="ruby-constant">Service</span>.<span class="ruby-identifier">connect</span>(:<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>)
<span class="ruby-identifier">reader</span> = <span class="ruby-identifier">svc</span>.<span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">create_stream</span>(<span class="ruby-string">'search index=_internal'</span>, :<span class="ruby-identifier">search_mode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'realtime'</span>, :<span class="ruby-identifier">earliest_time</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'rt-1m'</span>, :<span class="ruby-identifier">latest_time</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'rt'</span>)
<span class="ruby-identifier">reader</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">event</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-identifier">event</span>} <span class="ruby-comment">#will block until events show up in real-time</span>
</pre>
          

          
          <div class="method-source-code" id="create_stream-source">
            <pre><span class="ruby-comment"># File lib/splunk-sdk/client.rb, line 848</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_stream</span>(<span class="ruby-identifier">query</span>, <span class="ruby-identifier">args</span>={})
  <span class="ruby-identifier">args</span>[<span class="ruby-value">:search</span>] = <span class="ruby-identifier">query</span>
  <span class="ruby-identifier">args</span>[<span class="ruby-value">:output_mode</span>] = <span class="ruby-string">&quot;json&quot;</span>

  <span class="ruby-identifier">path</span> = <span class="ruby-constant">PATH_JOBS</span> <span class="ruby-operator">+</span> <span class="ruby-node">&quot;/export?#{args.urlencode}&quot;</span>

  <span class="ruby-identifier">cn</span> = <span class="ruby-ivar">@service</span>.<span class="ruby-identifier">context</span>.<span class="ruby-identifier">connect</span>
  <span class="ruby-identifier">cn</span>.<span class="ruby-identifier">write</span>(<span class="ruby-node">&quot;GET #{@service.context.fullpath(path)} HTTP/1.1\r\n&quot;</span>)
  <span class="ruby-identifier">cn</span>.<span class="ruby-identifier">write</span>(<span class="ruby-node">&quot;Host: #{@service.context.host}:#{@service.context.port}\r\n&quot;</span>)
  <span class="ruby-identifier">cn</span>.<span class="ruby-identifier">write</span>(<span class="ruby-string">&quot;User-Agent: splunk-sdk-ruby/0.1\r\n&quot;</span>)
  <span class="ruby-identifier">cn</span>.<span class="ruby-identifier">write</span>(<span class="ruby-node">&quot;Authorization: Splunk #{@service.context.token}\r\n&quot;</span>)
  <span class="ruby-identifier">cn</span>.<span class="ruby-identifier">write</span>(<span class="ruby-string">&quot;Accept: */*\r\n&quot;</span>)
  <span class="ruby-identifier">cn</span>.<span class="ruby-identifier">write</span>(<span class="ruby-string">&quot;\r\n&quot;</span>)

  <span class="ruby-identifier">cn</span>.<span class="ruby-identifier">readline</span> <span class="ruby-comment">#return code TODO: Parse me and return error if problem</span>
  <span class="ruby-identifier">cn</span>.<span class="ruby-identifier">readline</span> <span class="ruby-comment">#accepts</span>
  <span class="ruby-identifier">cn</span>.<span class="ruby-identifier">readline</span> <span class="ruby-comment">#blank</span>

  <span class="ruby-constant">ResultsReader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">cn</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- create_stream-source -->
          
        </div>

        

        
      </div><!-- create_stream-method -->

    
      <div id="method-i-list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">list</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return an Array of <a href="Jobs.html">Jobs</a></p>

<h4 id="method-i-list-label-Example+-+Display+the+disk+usage+of+each+job">Example - Display the disk usage of each job</h4>

<pre class="ruby"><span class="ruby-identifier">svc</span> = <span class="ruby-constant">Service</span>.<span class="ruby-identifier">connect</span>(:<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>)
<span class="ruby-identifier">svc</span>.<span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">job</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-identifier">job</span>[<span class="ruby-string">'diskUsage'</span>] }
</pre>
          

          
          <div class="method-source-code" id="list-source">
            <pre><span class="ruby-comment"># File lib/splunk-sdk/client.rb, line 874</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">list</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@service</span>.<span class="ruby-identifier">context</span>.<span class="ruby-identifier">get</span>(<span class="ruby-constant">PATH_JOBS</span>)
  <span class="ruby-identifier">entry</span> = <span class="ruby-constant">AtomResponseLoader</span><span class="ruby-operator">::</span><span class="ruby-identifier">load_text_as_record</span>(<span class="ruby-identifier">response</span>, <span class="ruby-constant">MATCH_ENTRY_CONTENT</span>, <span class="ruby-constant">NAMESPACES</span>)
  <span class="ruby-keyword">return</span> [] <span class="ruby-keyword">if</span> <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">entry</span> = [<span class="ruby-identifier">entry</span>] <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">entry</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
  <span class="ruby-identifier">retarr</span> = []
  <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">retarr</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Job</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@service</span>, <span class="ruby-identifier">item</span>.<span class="ruby-identifier">content</span>.<span class="ruby-identifier">sid</span>) }
  <span class="ruby-identifier">retarr</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- list-source -->
          
        </div>

        

        
      </div><!-- list-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.11.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

